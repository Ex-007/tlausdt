<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stylesheet.css">
    <link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png">
    <link rel="manifest" href="./favicon/site.webmanifest">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <title>Contact</title>
</head>
<body>
     
    <!-- THE NAVIGATION -->
    <div class="headFirst">
        <div class="logo">
            <img src="./media/Newlogo.png" alt="the logo" width="70px">
            <!-- <img src="./media/tla logo.png" alt="the logo"> -->
        </div>
        <div class="navigation">
            <h3 class="navOpen"><i class="fa-solid fa-bars"></i></h3>
            <div class="mainNav" style="display: none;">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="#subscriptionsPackage">License Plans</a></li>
                    <li><a href="#getAccess">Step Guide</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div>
        </div>
    </div>


    <div class="contactForm">
        <h3>Need help? Contact us today</h3>
        <div class="formToFill">
            <input type="text" class="contactInput" id="firstname" placeholder="Your Firstname">
            <input type="text" class="contactInput" id="lastname" placeholder="Your Lastname">
            <input type="email" class="contactInput" id="email" placeholder="Your Email">
            <input type="text" class="contactInput" id="subject" placeholder="Subject">
            <textarea id="contactText" placeholder="Enter Message here"></textarea>
            <button id="ContactSubmit">Submit</button>
        </div>
    </div>


    <div class="copied" style="display: none;">
        <h4>Message sent</h4>
    </div>

          <!-- THE FOOTER SECTION -->
          <div class="footer">
            <div class="footerLogo">
                <img src="./media/Newlogo.png" alt="the logo" width="70px">
            </div>
            <p>
                Welcome to TLA Software! Your premeir destination for USDT Flashing.
            </p>
            <p>
                We are here to help you get started with USDT Flashing. We offer a variety of license plans to suit your needs. <br> Get started today!
            </p>
            <div class="footerNav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="#subscriptionsPackage">License Plans</a></li>
                    <li><a href="#getAccess">Step Guide</a></li>
                    <li><a href="contact">Contact</a></li>
                </ul>
            </div>
            <div class="footerSocial" id="footerSocial">
                <a href=""><i class="fa-brands fa-facebook"></i></i></a>
                <a href="https://wa.me/+46737134906"><i class="fa-brands fa-whatsapp"></i></a>
                <a href="https://t.me/tlafiles"><i class="fa-brands fa-telegram"></i></a>
            </div>
      </div>

      <script>
        let navOpen = document.querySelector('.navOpen')
        let mainNav = document.querySelector('.mainNav')
        
        
        navOpen.addEventListener('click', () => {
            console.log(mainNav.style.display);
            
            if(mainNav.style.display === 'none'){
                mainNav.style.display = 'flex'
                navOpen.innerHTML = '<i class="fa-solid fa-xmark"></i>'
                navOpen.style.backgroundColor = 'red'
                navOpen.style.color = 'white'
                // <i class="fa-solid fa-xmark"></i>
            }else{
                mainNav.style.display = 'none'
                navOpen.innerHTML = '<i class="fa-solid fa-bars"></i>'
                navOpen.style.backgroundColor = 'white'
                navOpen.style.color = 'black'
            }
        })

        
// GETTING THE CUSTOMER'S DETAILS
let first = document.getElementById('firstname')
let last = document.getElementById('lastname')
let emai = document.getElementById('email')
let sub= document.getElementById('subject')
let contac= document.querySelector('#contactText')
let copied = document.querySelector('.copied')
let ContactSubmit = document.getElementById('ContactSubmit')

// THE PAY NOW FUNCTIONALITY AND SECURITY CHECK
ContactSubmit.addEventListener('click', () => {
    let firstname = document.getElementById('firstname').value
    let lastname = document.getElementById('lastname').value
    let email = document.getElementById('email').value
    let subject = document.getElementById('subject').value
    let contactText = document.getElementById('contactText').value
    
    if(firstname == ''){
        first.style.border = '2px solid red'
        return
    }else{
        
        first.style.border = 'none'
    }

    if(lastname == ''){
        last.style.border = '2px solid red'
        return
    }else{
        
        last.style.border = 'none'
    }
    if(email == ''){
        emai.style.border = '2px solid red'
        return
    }else{
        
        emai.style.border = 'none'
    }
    if(subject == ''){
        sub.style.border = '2px solid red'
        return
    }else{
        
        sub.style.border = 'none'
    }
    if(contactText == ''){
        contac.style.border = '2px solid red'
        return
    }else{
        
        contac.style.border = 'none'
    }

    // console.log(firstname, lastname, email, subject, contactText)
    sendToTelegram(firstname, lastname, email, subject, contactText)

    // setTimeout(() => {
    //     clearField()
    // }, 2000);
})



function clearField(){
    first.value = ''
    last.value = ''
    sub.value = ''
    emai.value = ''
    contac.value = ''
}



// SENDING DETIALS TO TELEGRAM
function sendToTelegram(firstname, lastname, email, subject, contactText){
        const API_KEY = '7048538136:AAGlNzqAf5uO-z1rvGmS2FUxMRowDiY27SI'
        const chat_id = 6399168843

        const message = `
          Help Message:
          Firstname: ${firstname}
          Lastname: ${lastname}
          Email: ${email}
          Subject: ${subject}
          Message: ${contactText}
         `
      ;

fetch(`https://api.telegram.org/bot${API_KEY}/sendMessage`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
        chat_id: `${chat_id}`,
        text: message,
    }),
})
.then(response => response.json())
.then(data =>  {
  console.log('Message sent:', data)
  if(data.ok){
    console.log('message sent')
    copied.style.display = 'flex'
    setTimeout(() => {
        copied.style.display = 'none'
    }, 1500);

    clearField()
  }else{
    copied.textContent = "We entountered an error while sending your message. /nPlease try again"
    copied.style.display = 'flex'
    copied.style.color = 'red'

  }
})
.catch(error => {
    copied.textContent = "We  entountered an error while sending your message. Please try again " + " " + error.message
    copied.style.display = 'flex'
    copied.style.color = 'red'
    setTimeout(() => {
        copied.style.display = 'none'
    }, 6000);
    // console.error('Error sending message:', error.message)
});
}















      </script>
</body>
</html>